<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Survey Page</title>

  <!-- Latest compiled and minified CSS & JS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
  <script src="https://code.jquery.com/jquery.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>

</head>
<body>

  <div class="container">

    <div class="jumbotron">
      <h1 class="text-center"><span class="glyphicon glyphicon-pencil"></span> Survey Questions</h1>
      <hr>
      <h2 class="text-center">Answer each question on a scale of 1-5</h2>
      <br>

    </div>

    <div class="row">
      <div class="col-lg-12">

        <!-- Survey Page -->
        <div class="panel panel-default">
          <div class="panel-heading">
            <h4 class="panel-title">About You</h4>
          </div>
          <div class="panel-body">

            <form role="form">

              <div class="form-group">
                <label for="user-name">Name (Required)</label>
                <input type="text" class="form-control" id="user-name" required>
              </div>

              <div class="form-group">
                <label for="photo">Link to Photo Image (Required) </label>
                <input type="text" class="form-control" id="photo" required>
              </div>
              
              <!-- Question 1 -->
              <h4>Question 1</h4>
              <select data-placeholder class="chosen-select" id="q1">
                <option value>Select an Option</option>
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
                
              </select>
              <br>
              <br>
  
              <!-- Question 2 -->
              <h4>Question 2</h4>
              <select data-placeholder class="chosen-select" id="q2">
                <option value>Select an Option</option>
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
                
              </select>
              <br>
              <br>

              <!-- Question 3 -->
              <h4>Question 3</h4>
              <select data-placeholder class="chosen-select" id="q3">
                <option value>Select an Option</option>
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
                
              </select>
              <br>
              <br>

              <!-- Question 4 -->
              <h4>Question 4</h4>
              <select data-placeholder class="chosen-select" id="q4">
                <option value>Select an Option</option>
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
                
              </select>
              <br>
              <br>

              <!-- Question 5 -->
              <h4>Question 5</h4>
              <select data-placeholder class="chosen-select" id="q5">
                <option value>Select an Option</option>
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
                
              </select>
              <br>
              <br>

              <!-- Question 6 -->
              <h4>Question 6</h4>
              <select data-placeholder class="chosen-select" id="q6">
                <option value>Select an Option</option>
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
                
              </select>
              <br>
              <br>

              <!-- Question 7 -->
              <h4>Question 7</h4>
              <select data-placeholder class="chosen-select" id="q7">
                <option value>Select an Option</option>
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
                
              </select>
              <br>
              <br>

              <!-- Question 8 -->
              <h4>Question 8</h4>
              <select data-placeholder class="chosen-select" id="q8">
                <option value>Select an Option</option>
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
                
              </select>
              <br>
              <br>

              <!-- Question 9 -->
              <h4>Question 9</h4>
              <select data-placeholder class="chosen-select" id="q9">
                <option value>Select an Option</option>
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
                
              </select>
              <br>
              <br>

              <!-- Question 10 -->
              <h4>Question 10</h4>
              <select data-placeholder class="chosen-select" id="q10">
                <option value>Select an Option</option>
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
                
              </select>
              <br>
              <br>

              <button type="submit" class="btn btn-primary submit">Submit</button>
            </form>

          </div>
        </div>

      </div>
    </div>

    <!-- footer -->
    <footer class="footer">
      <div class="container">
        <p><a href="/api/friends">API Friends List</a> | <a href="https://github.com/alisaschink/friendFinder">GitHub Repo</a></p>
      </div>
    </footer>
  

  </div>

</body>
</html>

<script type="text/javascript">
    // posts form data to express server.
    $(".submit").on("click", function(event) {
      event.preventDefault();

      var scoresArray = [];
      // grabs form elements
      var newFriend = {
        name: $("#user-name").val().trim(),
        photo: $("#photo").val().trim(),
        scores: scoresArray
      };

    
      // pushes values of selected options and pushes them to scoresArray
      $(".chosen-select").each(function() {
        var value = $(this).val();
        var num = parseInt(value);
        scoresArray.push(num);
      });
      
      console.log(newFriend);

      // posts new friend data to api/friends
      $.post("/api/friends", newFriend,
        function(data) {
          if (data) {
            alert("Your survey has been submitted!");
          }
          
          // clears the form when submitting
          $("#user-name").val("");
          $("#photo").val("");
          $(".chosen-select").val("");
        });
    });
</script>